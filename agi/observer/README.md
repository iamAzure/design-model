# 观察者模式 (Observer Pattern)

## 模式说明

观察者模式是一种行为型设计模式，它定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。当主题对象发生变化时，它的所有依赖者（观察者）都会收到通知并自动更新。

## 实现结构

- `Subject.ts`: 主题接口，定义了添加、删除和通知观察者的方法
- `Observer.ts`: 观察者接口，定义了更新方法
- `NewsPublisher.ts`: 具体主题实现，实现新闻发布功能
- `NewsSubscriber.ts`: 具体观察者实现，实现新闻订阅功能
- `index.ts`: 示例代码

## 运行示例

1. 确保已安装 Node.js 18 版本
2. 使用 pnpm 安装依赖：
   ```bash
   pnpm install
   ```
3. 运行示例代码：
   ```bash
   pnpm ts-node index.ts
   ```

## 示例输出

运行示例代码后，你将看到类似以下的输出：

```
添加了一个新的观察者
添加了一个新的观察者
添加了一个新的观察者
发布新闻: 重大新闻：人工智能取得突破性进展！
通知所有观察者...
张三 收到新闻: 重大新闻：人工智能取得突破性进展！
李四 收到新闻: 重大新闻：人工智能取得突破性进展！
王五 收到新闻: 重大新闻：人工智能取得突破性进展！
移除了一个观察者
发布新闻: 科技新闻：新型电动汽车发布！
通知所有观察者...
张三 收到新闻: 科技新闻：新型电动汽车发布！
王五 收到新闻: 科技新闻：新型电动汽车发布！
```

## 模式优点

1. 支持广播通信
2. 符合开闭原则
3. 可以在运行时建立对象之间的关系

## 模式缺点

1. 如果观察者过多，通知所有观察者可能会花费较长时间
2. 如果观察者和主题之间有循环依赖，可能导致系统崩溃
3. 观察者模式没有指定观察者接收通知的顺序 