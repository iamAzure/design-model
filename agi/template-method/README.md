# 模板方法模式 (Template Method Pattern)

## 模式说明

模板方法模式是一种行为型设计模式，它定义了一个算法的骨架，将一些步骤延迟到子类中实现。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法的某些特定步骤。

## 实现结构

- `Beverage.ts`: 抽象饮料类，定义了制作饮料的模板方法
- `Coffee.ts`: 咖啡类，实现具体的冲泡和添加配料方法
- `Tea.ts`: 茶类，实现具体的冲泡和添加配料方法
- `index.ts`: 示例代码

## 运行示例

1. 确保已安装 Node.js 18 版本
2. 使用 pnpm 安装依赖：
   ```bash
   pnpm install
   ```
3. 运行示例代码：
   ```bash
   pnpm ts-node index.ts
   ```

## 示例输出

运行示例代码后，你将看到类似以下的输出：

```
=== 测试场景1：制作加料的咖啡 ===
将水煮沸
用沸水冲泡咖啡
将饮料倒入杯中
加入糖和牛奶
饮料制作完成！

=== 测试场景2：制作不加料的咖啡 ===
将水煮沸
用沸水冲泡咖啡
将饮料倒入杯中
饮料制作完成！

=== 测试场景3：制作加料的茶 ===
将水煮沸
用沸水浸泡茶叶
将饮料倒入杯中
加入柠檬
饮料制作完成！

=== 测试场景4：制作不加料的茶 ===
将水煮沸
用沸水浸泡茶叶
将饮料倒入杯中
饮料制作完成！
```

## 模式优点

1. 提高代码复用性
2. 扩展性好，易于维护
3. 符合开闭原则
4. 可以控制子类的扩展

## 模式缺点

1. 继承关系强，子类必须继承父类的所有行为
2. 违反里氏替换原则
3. 模板方法中的步骤越多，维护成本越高

## 适用场景

1. 一次性实现一个算法的不变部分，并将可变的行为留给子类来实现
2. 各子类中公共的行为应被提取出来并集中到一个公共父类中
3. 控制子类扩展
4. 有多个子类共有的方法，且逻辑基本相同 